{
  "variables": {
    "openstack_source_image": "https://github.com/jupytercloud-project/openstack-alpine-image/releases/download/0.0.1/openstack-alpine-image-3.9.3.raw"
  },
  "builders": [
    {
      "type": "openstack",
      "identity_endpoint": "{{ env `OS_AUTH_URL` }}",
      "domain_name": "{{ env `OS_DOMAIN_NAME` }}",
      "tenant_name": "{{ env `OS_TENANT_NAME` }}",
      "username": "{{ env `OS_USERNAME` }}",
      "password": "{{ env `OS_PASSWORD` }}",
      "source_image": "{{ user `openstack_source_image` }}",
      "flavor": "{{ user `openstack_flavor` }}",
      "image_name": "openstack-jupyterhub-image",
      "config_drive": true,
      "use_blockstorage_volume": true,
      "volume_size": "1",
      "image_tags": [
        "alpine", "jupyterhub"
      ],
      "communicator": "ssh",
    }
  ],
  "provisionners": [
    {
      "type": "shell",
      "inline": [
        "ls -alFhR /tmp/data"
      ]
    }
  ]
}
